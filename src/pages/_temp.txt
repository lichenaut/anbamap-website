<script>
  // Add a code to the favorites
  function addToFavorites(code) {
    let item = localStorage.getItem("favorites");
    if (item === null) {
      localStorage.setItem("favorites", JSON.stringify([code]));
      return;
    }

    let favorites = JSON.parse(item) || [];
    if (!favorites.includes(code)) {
      favorites.push(code);
      localStorage.setItem("favorites", JSON.stringify(favorites));
    }
  }

  // Remove a code from the favorites
  function removeFromFavorites(code) {
    let item = localStorage.getItem("favorites");
    if (item === null) {
      return;
    }

    let favorites = JSON.parse(item) || [];
    favorites = favorites.filter((favorite) => favorite !== code);
    localStorage.setItem("favorites", JSON.stringify(favorites));
  }

  // Check if a code is in the favorites
  function isFavorite(code) {
    let item = localStorage.getItem("favorites");
    if (item === null) {
      return;
    }

    let favorites = JSON.parse(item) || [];
    return favorites.includes(code);
  }

  // Use these functions like this:
  addToFavorites("us");
</script>